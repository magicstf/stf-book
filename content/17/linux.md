# linux常见问题解决方案
> 以centos为例

##### 一、非root用户使用sudo命令的过程中，如果遇到提示：当前用户不在sudoers文件中的提示信息时，解决方法如下：

1. 切换到root用户权限: `su root`
2. 查看 /etc/sudoers文件权限: `ls -l /etc/sudoers`

3. 如果只读权限，修改为可写权限: `chmod 777 /etc/sudoers`

4. 执行vi命令，编辑`/etc/sudoers`文件，添加要提升权限的用户；在文件中找到`root ALL=(ALL) ALL`，在该行下添加提升权限的用户信息，如：

     root    ALL=(ALL)       ALL

     user    ALL=(ALL)       ALL

说明：格式为（用户名    网络中的主机=（执行命令的目标用户）    执行的命令范围）

5. 保存退出，并恢复 /etc/sudoers的访问权限为440: chmod 440 /etc/sudoers

6. 切换到普通用户，测试用户权限提升功能

##### 二、Linux下用于查看系统当前登录用户信息的4种方法

1. 使用w命令查看登录用户正在使用的进程信息

 w命令用于显示已经登录系统的用户的名称，以及他们正在做的事。该命令所使用的信息来源于/var/run/utmp文件。w命令输出的信息包括：

 * 用户名称
 * 用户的机器名称或tty号
 * 远程主机地址
 * 用户登录系统的时间
 * 空闲时间（作用不大）
 * 附加到tty（终端）的进程所用的时间（JCPU时间）
 * 当前进程所用时间（PCPU时间）
 * 用户当前正在使用的命令

 w命令还可以使用以下选项

 -h忽略头文件信息
 
 -u显示结果的加载时间
 
 -s不显示JCPU， PCPU， 登录时间

2. 使用who命令查看（登录）用户名称及所启动的进程
 
 who命令用于列举出当前已登录系统的用户名称。其输出为：用户名、tty号、时间日期、主机地址。


3. 使用whoami命令查看你所使用的登录名称

   whoami命令的执行效果和id -un的效果完全一样
  
4. 随时查看系统的历史信息（曾经使用过系统的用户信息）

  last命令可用于显示特定用户登录系统的历史记录。如果没有指定任何参数，则显示所有用户的历史信息。在默认情况下，这些信息（所显示的信息）将来源于/var/log/wtmp文件。该命令的输出结果包含以下几列信息：

 *  用户名称
 *  tty设备号
 *  历史登录时间日期
 *  登出时间日期
 *  总工作时间
 
getconf LONG_BIT   <font color=#999>// 查看操作系统是多少位</font>

cat /etc/redhat-release   <font color=#999> // 查看操作系统版本</font>



